const _0x21a8c7=_0x3c4a;(function(_0x3740eb,_0x3b8dc0){const _0x53c9e9=_0x3c4a,_0xe042cb=_0x3740eb();while(!![]){try{const _0x1572c7=-parseInt(_0x53c9e9(0x199))/0x1+parseInt(_0x53c9e9(0x1ce))/0x2+parseInt(_0x53c9e9(0x19e))/0x3+-parseInt(_0x53c9e9(0x1bf))/0x4+-parseInt(_0x53c9e9(0x17a))/0x5+parseInt(_0x53c9e9(0x1cd))/0x6*(parseInt(_0x53c9e9(0x18a))/0x7)+-parseInt(_0x53c9e9(0x1b8))/0x8*(-parseInt(_0x53c9e9(0x1f4))/0x9);if(_0x1572c7===_0x3b8dc0)break;else _0xe042cb['push'](_0xe042cb['shift']());}catch(_0x1b2c76){_0xe042cb['push'](_0xe042cb['shift']());}}}(_0x62cd,0xebef5));const _0x55a3d6=(function(){let _0x4e53cd=!![];return function(_0x24820a,_0x41854b){const _0xb4c283=_0x4e53cd?function(){if(_0x41854b){const _0x464d35=_0x41854b['apply'](_0x24820a,arguments);return _0x41854b=null,_0x464d35;}}:function(){};return _0x4e53cd=![],_0xb4c283;};}()),_0x2e92e1=_0x55a3d6(this,function(){const _0x1387b0=_0x3c4a;let _0x5891a6;try{const _0x25c246=Function(_0x1387b0(0x1c7)+_0x1387b0(0x1a1)+');');_0x5891a6=_0x25c246();}catch(_0x125dc8){_0x5891a6=window;}const _0x42f99f=_0x5891a6[_0x1387b0(0x1b1)]=_0x5891a6['console']||{},_0x459dac=[_0x1387b0(0x176),'warn',_0x1387b0(0x185),_0x1387b0(0x1f1),_0x1387b0(0x1bb),_0x1387b0(0x1e0),_0x1387b0(0x1de)];for(let _0x3dc5a4=0x0;_0x3dc5a4<_0x459dac['length'];_0x3dc5a4++){const _0xa64ed7=_0x55a3d6['constructor']['prototype'][_0x1387b0(0x198)](_0x55a3d6),_0x152af2=_0x459dac[_0x3dc5a4],_0x52b0f3=_0x42f99f[_0x152af2]||_0xa64ed7;_0xa64ed7['__proto__']=_0x55a3d6[_0x1387b0(0x198)](_0x55a3d6),_0xa64ed7['toString']=_0x52b0f3[_0x1387b0(0x1df)][_0x1387b0(0x198)](_0x52b0f3),_0x42f99f[_0x152af2]=_0xa64ed7;}});function _0x3c4a(_0x27022a,_0x58d25c){const _0x1c41d7=_0x62cd();return _0x3c4a=function(_0x2e92e1,_0x55a3d6){_0x2e92e1=_0x2e92e1-0x175;let _0x1e9649=_0x1c41d7[_0x2e92e1];return _0x1e9649;},_0x3c4a(_0x27022a,_0x58d25c);}_0x2e92e1();import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getDatabase,ref,set,onValue,push,remove,off,get}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js';const firebaseConfig={'apiKey':_0x21a8c7(0x1c3),'authDomain':'arscreen-63542.firebaseapp.com','projectId':_0x21a8c7(0x181),'storageBucket':_0x21a8c7(0x1ab),'messagingSenderId':_0x21a8c7(0x177),'appId':_0x21a8c7(0x1a7)};let app,database;function _0x62cd(){const _0x3a3b02=['hostIdInput','text-4xl\x20text-center\x20mb-4\x20','textContent','startSharingBtn','1:673306876677:web:2ec152dfa8926f306cf56c','open','classList','createOffer','arscreen-63542.firebasestorage.app','srcObject','Host\x20has\x20left\x20the\x20session.','execCommand','joinBtn-text','mediaDevices','console','toggleDropdown','Firebase\x20configuration\x20error.\x20Please\x20ensure\x20your\x20configuration\x20is\x20correct.','floor','catch','<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2248\x22\x20height=\x2248\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20class=\x22text-emerald-500\x22><path\x20d=\x22M22\x2011.08V12a10\x2010\x200\x201\x201-5.93-8.56\x22/><path\x20d=\x22m9\x2011\x203\x203L22\x204\x22/></svg>','addIceCandidate','24nOdEWp','disconnectBtn','value','exception','Firebase\x20setup\x20failed.','Error\x20starting\x20screen\x20sharing:','copy','4954380sUEHey','disabled','toJSON','random','AIzaSyAO9EKec7x54YyGw4VsgTkLWcAWmu_0u8s','exists','/viewerCandidates','hostIdContainer','return\x20(function()\x20','disconnect','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','scale-95','add','setLocalDescription','1506rqwQtb','825782mBuuRj','getElementById','bg-white','dark:text-gray-400','name','setRemoteDescription','/offer','hideModal','You\x20have\x20left\x20the\x20session.','joinBtn-spinner','/answer','Joined\x20session\x20successfully!','oniceconnectionstatechange','child','streams','stop','trace','toString','table','modal-container','dark:text-white','startTime','modal-icon','addEventListener','Firebase\x20initialization\x20failed:','HOST\x20ENDED\x20THE\x20SESSION','exitFullscreen','className','Firebase\x20initialized\x20successfully.','Please\x20enter\x20a\x20session\x20ID.','fullscreenElement','disconnected','viewerFullscreenBtn','text-blue-500','sessions/','error','Error\x20setting\x20remote\x20description:','localVideo','9877347tkeQhK','leaveBtn','You\x20are\x20already\x20in\x20a\x20session.','contains','select','iceConnectionState','/hostCandidates','hostVideoContainer','modal-backdrop','viewerIdInput','padStart','opacity-0','log','673306876677','Session\x20not\x20found.\x20Please\x20check\x20the\x20ID.','substring','3915575lXRFDu','getTracks','dark:bg-gray-700','Fullscreen\x20mode\x20failed.\x20Your\x20browser\x20may\x20have\x20restrictions.','val','candidate','close','arscreen-63542','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-gray-200\x22>Join\x20Session</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22viewerIdInput\x22\x20placeholder=\x22Enter\x20session\x20ID\x22\x20class=\x22w-full\x20px-4\x20py-3\x20bg-white/5\x20text-gray-200\x20rounded-xl\x20placeholder-gray-500\x20border-2\x20border-transparent\x20focus:border-indigo-500/50\x20focus:bg-white/20\x20outline-none\x20transition-all\x20focus:ring\x20focus:ring-indigo-500/50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22joinButton\x22\x20class=\x22mt-4\x20w-full\x20flex\x20items-center\x20justify-center\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-white\x20font-bold\x20py-4\x20px-8\x20rounded-xl\x20text-lg\x20transition-all\x20transform\x20hover:scale-[1.02]\x20active:scale-[0.98]\x20focus:outline-none\x20focus:ring\x20focus:ring-indigo-500/50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20class=\x22mr-2\x22><path\x20d=\x22M12\x2021a9\x209\x200\x201\x200\x200-18\x209\x209\x200\x200\x200\x200\x2018Z\x22/><path\x20d=\x22m8\x2012\x204\x204\x204-4\x22/><path\x20d=\x22M12\x208v8\x22/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22joinBtn-text\x22>Join\x20Session</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22joinBtn-spinner\x22\x20class=\x22spinner\x20hidden\x20ml-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22viewerVideoContainer\x22\x20class=\x22relative\x20hidden\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<video\x20id=\x22remoteVideo\x22\x20autoplay\x20playsinline\x20class=\x22rounded-xl\x20w-full\x20h-auto\x20shadow-xl\x20border-4\x20border-white/20\x22></video>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/50\x20text-white\x20text-sm\x20px-3\x20py-1\x20rounded-full\x20font-mono\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22timer\x22>00:00</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22leaveBtn\x22\x20class=\x22absolute\x20bottom-4\x20left-4\x20bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-2\x20px-4\x20rounded-xl\x20transition-all\x20transform\x20hover:scale-[1.02]\x20active:scale-[0.98]\x20focus:outline-none\x20focus:ring\x20focus:ring-red-500/50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Leave\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22viewerFullscreenBtn\x22\x20class=\x22absolute\x20bottom-4\x20right-4\x20p-2\x20bg-black/50\x20text-white\x20rounded-lg\x20opacity-80\x20hover:opacity-100\x20transition-opacity\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M8\x203v3a2\x202\x200\x200\x201-2\x202H3m18\x200h-3a2\x202\x200\x200\x201-2-2V3m0\x2018v-3a2\x202\x200\x200\x201\x202-2h3M3\x2016h3a2\x202\x200\x200\x201\x202\x202v3\x22/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','requestFullscreen','joinBtn','info','viewerVideoContainer','hidden','now','/status','12887UqeCFU','hostFullscreenBtn','offer','text-gray-800','remove','joinButton','copyBtn','click','rotate','contentArea','shadow-sm','onicecandidate','innerHTML','Could\x20not\x20start\x20screen\x20sharing.\x20Make\x20sure\x20you\x20have\x20granted\x20permission.','bind','1806234uUxZKg','addTrack','success','message','text-gray-500','1880706yRHsiG','forEach','<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2248\x22\x20height=\x2248\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20class=\x22text-red-500\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22/><line\x20x1=\x2215\x22\x20x2=\x229\x22\x20y1=\x229\x22\x20y2=\x2215\x22/><line\x20x1=\x229\x22\x20x2=\x2215\x22\x20y1=\x229\x22\x20y2=\x2215\x22/></svg>','{}.constructor(\x22return\x20this\x22)(\x20)','createAnswer'];_0x62cd=function(){return _0x3a3b02;};return _0x62cd();}try{app=initializeApp(firebaseConfig),database=getDatabase(app),console[_0x21a8c7(0x176)](_0x21a8c7(0x1ea));}catch(_0x4ac535){console[_0x21a8c7(0x1f1)](_0x21a8c7(0x1e6),_0x4ac535),showModal(_0x21a8c7(0x1b3),_0x21a8c7(0x1f1));throw new Error(_0x21a8c7(0x1bc));}const hostBtn=document[_0x21a8c7(0x1cf)]('hostBtn'),joinBtn=document[_0x21a8c7(0x1cf)](_0x21a8c7(0x184)),contentArea=document[_0x21a8c7(0x1cf)](_0x21a8c7(0x193)),modalBackdrop=document[_0x21a8c7(0x1cf)](_0x21a8c7(0x1fc)),modalContainer=document[_0x21a8c7(0x1cf)](_0x21a8c7(0x1e1)),customModal=document[_0x21a8c7(0x1cf)]('custom-modal'),modalIcon=document[_0x21a8c7(0x1cf)](_0x21a8c7(0x1e4)),modalMessage=document[_0x21a8c7(0x1cf)]('modal-message');let peerConnection,localStream,currentSessionId;const configuration={'iceServers':[{'urls':'stun:stun.l.google.com:19302'}]};let timerInterval,isHost=![],startTime=0x0;const showModal=(_0x3d48f0,_0x585ec6=_0x21a8c7(0x185))=>{const _0x537d7d=_0x21a8c7;modalMessage[_0x537d7d(0x1a5)]=_0x3d48f0;let _0x214fc2,_0x25811d;switch(_0x585ec6){case _0x537d7d(0x19b):_0x214fc2=_0x537d7d(0x1b6),_0x25811d='text-emerald-500';break;case _0x537d7d(0x1f1):_0x214fc2=_0x537d7d(0x1a0),_0x25811d='text-red-500';break;default:_0x214fc2='<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2248\x22\x20height=\x2248\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20class=\x22text-blue-500\x22><circle\x20cx=\x2212\x22\x20cy=\x2212\x22\x20r=\x2210\x22/><line\x20x1=\x2212\x22\x20x2=\x2212\x22\x20y1=\x228\x22\x20y2=\x2212\x22/><line\x20x1=\x2212\x22\x20x2=\x2212.01\x22\x20y1=\x2216\x22\x20y2=\x2216\x22/></svg>',_0x25811d=_0x537d7d(0x1ef);break;}modalIcon[_0x537d7d(0x196)]=_0x214fc2,modalIcon[_0x537d7d(0x1e9)]=_0x537d7d(0x1a4)+_0x25811d,modalBackdrop['classList'][_0x537d7d(0x18e)]('hidden'),modalContainer[_0x537d7d(0x1a9)][_0x537d7d(0x18e)](_0x537d7d(0x187)),setTimeout(()=>{const _0x167cd2=_0x537d7d;modalBackdrop[_0x167cd2(0x1a9)][_0x167cd2(0x18e)]('opacity-0'),customModal[_0x167cd2(0x1a9)][_0x167cd2(0x18e)](_0x167cd2(0x1ca),'opacity-0');},0xa);},hideModal=()=>{const _0x4ed33c=_0x21a8c7;customModal[_0x4ed33c(0x1a9)]['add']('scale-95',_0x4ed33c(0x175)),modalBackdrop[_0x4ed33c(0x1a9)][_0x4ed33c(0x1cb)](_0x4ed33c(0x175)),setTimeout(()=>{const _0xdb729d=_0x4ed33c;modalBackdrop[_0xdb729d(0x1a9)][_0xdb729d(0x1cb)](_0xdb729d(0x187)),modalContainer[_0xdb729d(0x1a9)][_0xdb729d(0x1cb)]('hidden');},0x12c);};window[_0x21a8c7(0x1d5)]=hideModal;const toggleFullscreen=_0x4d07d1=>{const _0x309cbb=_0x21a8c7,_0x286aac=document[_0x309cbb(0x1cf)](_0x4d07d1);if(!_0x286aac)return;!document[_0x309cbb(0x1ec)]?_0x286aac[_0x309cbb(0x183)]()[_0x309cbb(0x1b5)](_0x25d519=>{const _0x4ec115=_0x309cbb;console['error'](_0x4ec115(0x1c9)+_0x25d519[_0x4ec115(0x19c)]+'\x20('+_0x25d519[_0x4ec115(0x1d2)]+')'),showModal(_0x4ec115(0x17d),_0x4ec115(0x1f1));}):document[_0x309cbb(0x1e8)]();};window['toggleFullscreen']=toggleFullscreen;const disconnect=async _0x556c17=>{const _0x5a8323=_0x21a8c7;clearInterval(timerInterval),peerConnection&&(peerConnection[_0x5a8323(0x180)](),peerConnection=null),localStream&&(localStream[_0x5a8323(0x17b)]()[_0x5a8323(0x19f)](_0x12abe3=>_0x12abe3[_0x5a8323(0x1dd)]()),localStream=null),currentSessionId&&(isHost?await remove(ref(database,_0x5a8323(0x1f0)+currentSessionId)):await set(ref(database,_0x5a8323(0x1f0)+currentSessionId+_0x5a8323(0x189)),'disconnected'),off(ref(database,_0x5a8323(0x1f0)+currentSessionId)),currentSessionId=null),showModal(_0x556c17,'success'),setTimeout(()=>{showHostUI();},0x5dc);};window[_0x21a8c7(0x1c8)]=disconnect;const startTimer=_0x5097a1=>{const _0x180682=_0x21a8c7;startTime=_0x5097a1;const _0x51759e=document[_0x180682(0x1cf)]('timer');_0x51759e&&(clearInterval(timerInterval),timerInterval=setInterval(()=>{const _0x12bf71=_0x180682,_0x303ce3=Date[_0x12bf71(0x188)]()-startTime,_0x8eb5a2=Math['floor'](_0x303ce3/0x3e8),_0x567188=Math[_0x12bf71(0x1b4)](_0x8eb5a2/0x3c),_0x240868=_0x8eb5a2%0x3c,_0x422f3e=String(_0x567188)['padStart'](0x2,'0'),_0x81dfb0=String(_0x240868)[_0x12bf71(0x1fe)](0x2,'0');_0x51759e['textContent']=_0x422f3e+':'+_0x81dfb0;},0x3e8));},startSharing=async()=>{const _0x486820=_0x21a8c7;try{const _0xfe0645=document['getElementById'](_0x486820(0x1a6));_0xfe0645[_0x486820(0x1c0)]=!![],localStream=await navigator[_0x486820(0x1b0)]['getDisplayMedia']({'video':!![],'audio':!![]});const _0x756403=document[_0x486820(0x1cf)](_0x486820(0x1f3));_0x756403[_0x486820(0x1ac)]=localStream,_0x756403['classList'][_0x486820(0x18e)](_0x486820(0x187)),isHost=!![];const _0x53a20e=Math[_0x486820(0x1c2)]()[_0x486820(0x1df)](0x24)[_0x486820(0x179)](0x2,0x9);currentSessionId=_0x53a20e,document['getElementById'](_0x486820(0x1a3))[_0x486820(0x1ba)]=_0x53a20e,document[_0x486820(0x1cf)](_0x486820(0x1c6))[_0x486820(0x1a9)][_0x486820(0x18e)](_0x486820(0x187)),document[_0x486820(0x1cf)]('hostVideoContainer')['classList']['remove'](_0x486820(0x187)),document[_0x486820(0x1cf)](_0x486820(0x1b9))[_0x486820(0x1a9)][_0x486820(0x18e)](_0x486820(0x187));const _0x3180bd=Date[_0x486820(0x188)]();await set(ref(database,_0x486820(0x1f0)+_0x53a20e+'/startTime'),_0x3180bd),startTimer(_0x3180bd);const _0x435b46=async()=>{const _0x673707=_0x486820;peerConnection&&(peerConnection['close'](),peerConnection=null);peerConnection=new RTCPeerConnection(configuration),localStream[_0x673707(0x17b)]()['forEach'](_0x344f0f=>{const _0x22297f=_0x673707;peerConnection[_0x22297f(0x19a)](_0x344f0f,localStream);}),peerConnection[_0x673707(0x195)]=async _0x3080f1=>{const _0x4734b9=_0x673707;_0x3080f1['candidate']&&await set(push(ref(database,_0x4734b9(0x1f0)+_0x53a20e+_0x4734b9(0x1fa))),_0x3080f1['candidate'][_0x4734b9(0x1c1)]());};const _0x49452a=await peerConnection[_0x673707(0x1aa)]();await peerConnection[_0x673707(0x1cc)](new RTCSessionDescription(_0x49452a)),await set(ref(database,_0x673707(0x1f0)+_0x53a20e+_0x673707(0x1d4)),_0x49452a);};onValue(ref(database,_0x486820(0x1f0)+_0x53a20e+_0x486820(0x1d8)),async _0xf4175d=>{const _0x5ac7d4=_0x486820,_0x136275=_0xf4175d['val']();if(_0x136275&&peerConnection)try{await peerConnection[_0x5ac7d4(0x1d3)](new RTCSessionDescription(_0x136275));}catch(_0x4571cc){console['error'](_0x5ac7d4(0x1f2),_0x4571cc);}}),onValue(ref(database,_0x486820(0x1f0)+_0x53a20e+_0x486820(0x189)),async _0x1baed0=>{const _0x4ff99b=_0x486820,_0x58724b=_0x1baed0[_0x4ff99b(0x17e)]();_0x58724b===_0x4ff99b(0x1ed)&&(showModal('Viewer\x20has\x20left\x20the\x20session.'),await remove(ref(database,'sessions/'+_0x53a20e+_0x4ff99b(0x1d8))),await remove(ref(database,_0x4ff99b(0x1f0)+_0x53a20e+'/viewerCandidates')),await remove(ref(database,_0x4ff99b(0x1f0)+_0x53a20e+'/hostCandidates')),_0x435b46());}),_0x435b46(),document[_0x486820(0x1cf)](_0x486820(0x190))['addEventListener'](_0x486820(0x191),()=>{const _0x26b942=_0x486820,_0xbb971c=document[_0x26b942(0x1cf)](_0x26b942(0x1a3));_0xbb971c[_0x26b942(0x1f8)](),document[_0x26b942(0x1ae)](_0x26b942(0x1be)),showModal('Session\x20ID\x20copied\x20to\x20clipboard!',_0x26b942(0x19b));}),document['getElementById']('disconnectBtn')[_0x486820(0x1e5)](_0x486820(0x191),()=>disconnect(_0x486820(0x1d6))),document[_0x486820(0x1cf)](_0x486820(0x18b))[_0x486820(0x1e5)](_0x486820(0x191),()=>toggleFullscreen(_0x486820(0x1fb)));}catch(_0xf63811){console[_0x486820(0x1f1)](_0x486820(0x1bd),_0xf63811),showModal(_0x486820(0x197),'error');}finally{const _0x19dde2=document[_0x486820(0x1cf)](_0x486820(0x1a6));_0x19dde2['disabled']=![];}},joinSessionLogic=async()=>{const _0x2a9f24=_0x21a8c7,_0xb49676=document[_0x2a9f24(0x1cf)](_0x2a9f24(0x18f)),_0x48281f=document[_0x2a9f24(0x1cf)](_0x2a9f24(0x1fd))[_0x2a9f24(0x1ba)];if(peerConnection){showModal(_0x2a9f24(0x1f6),_0x2a9f24(0x185));return;}if(!_0x48281f){showModal(_0x2a9f24(0x1eb),_0x2a9f24(0x1f1));return;}_0xb49676['disabled']=!![],document['getElementById'](_0x2a9f24(0x1af))['classList']['add']('hidden'),document[_0x2a9f24(0x1cf)](_0x2a9f24(0x1d7))[_0x2a9f24(0x1a9)]['remove'](_0x2a9f24(0x187));const _0x56f413=ref(database,'sessions/'+_0x48281f),_0x403374=await get(_0x56f413);if(_0x403374[_0x2a9f24(0x1c4)]()){const _0x208796=document['getElementById']('remoteVideo');_0x208796['classList']['remove'](_0x2a9f24(0x187)),document[_0x2a9f24(0x1cf)](_0x2a9f24(0x186))['classList'][_0x2a9f24(0x18e)]('hidden');const _0x37edec=_0x403374[_0x2a9f24(0x1db)](_0x2a9f24(0x1e3))[_0x2a9f24(0x17e)]();_0x37edec&&startTimer(_0x37edec);isHost=![],peerConnection=new RTCPeerConnection(configuration),currentSessionId=_0x48281f,peerConnection[_0x2a9f24(0x1da)]=()=>{const _0x418064=_0x2a9f24;(peerConnection[_0x418064(0x1f9)]===_0x418064(0x1ed)||peerConnection[_0x418064(0x1f9)]==='failed')&&showModal(_0x418064(0x1ad),_0x418064(0x1f1));},peerConnection['ontrack']=_0x378a0f=>{const _0x417d03=_0x2a9f24;_0x208796[_0x417d03(0x1ac)]=_0x378a0f[_0x417d03(0x1dc)][0x0];},peerConnection[_0x2a9f24(0x195)]=async _0x2a22d8=>{const _0x1216f4=_0x2a9f24;_0x2a22d8[_0x1216f4(0x17f)]&&await set(push(ref(database,_0x1216f4(0x1f0)+_0x48281f+_0x1216f4(0x1c5))),_0x2a22d8['candidate'][_0x1216f4(0x1c1)]());};const _0x24162f=_0x403374[_0x2a9f24(0x1db)](_0x2a9f24(0x18c))[_0x2a9f24(0x17e)]();if(_0x24162f){await peerConnection[_0x2a9f24(0x1d3)](new RTCSessionDescription(_0x24162f));const _0x2df7f7=await peerConnection[_0x2a9f24(0x1a2)]();await peerConnection[_0x2a9f24(0x1cc)](_0x2df7f7),await set(ref(database,'sessions/'+_0x48281f+_0x2a9f24(0x1d8)),_0x2df7f7);}onValue(ref(database,_0x2a9f24(0x1f0)+_0x48281f+_0x2a9f24(0x1fa)),_0x455011=>{const _0xc2d230=_0x2a9f24;_0x455011[_0xc2d230(0x19f)](_0x359d48=>{const _0x209ab9=_0xc2d230,_0x3a0428=new RTCIceCandidate(_0x359d48[_0x209ab9(0x17e)]());peerConnection[_0x209ab9(0x1b7)](_0x3a0428);});}),onValue(ref(database,_0x2a9f24(0x1f0)+_0x48281f),_0x1b69b2=>{const _0x15645a=_0x2a9f24;!_0x1b69b2[_0x15645a(0x1c4)]()&&disconnect(_0x15645a(0x1e7));}),document[_0x2a9f24(0x1cf)](_0x2a9f24(0x1f5))[_0x2a9f24(0x1e5)]('click',()=>disconnect(_0x2a9f24(0x1d6))),document['getElementById'](_0x2a9f24(0x1ee))['addEventListener']('click',()=>toggleFullscreen(_0x2a9f24(0x186))),_0xb49676[_0x2a9f24(0x1c0)]=![],document['getElementById']('joinBtn-text')[_0x2a9f24(0x1a9)][_0x2a9f24(0x18e)]('hidden'),document[_0x2a9f24(0x1cf)](_0x2a9f24(0x1d7))['classList'][_0x2a9f24(0x1cb)](_0x2a9f24(0x187)),showModal(_0x2a9f24(0x1d9),_0x2a9f24(0x19b));}else showModal(_0x2a9f24(0x178),_0x2a9f24(0x1f1)),_0xb49676[_0x2a9f24(0x1c0)]=![],document[_0x2a9f24(0x1cf)](_0x2a9f24(0x1af))[_0x2a9f24(0x1a9)][_0x2a9f24(0x18e)]('hidden'),document[_0x2a9f24(0x1cf)](_0x2a9f24(0x1d7))[_0x2a9f24(0x1a9)][_0x2a9f24(0x1cb)]('hidden');},showHostUI=()=>{const _0x389c5b=_0x21a8c7;contentArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-gray-200\x22>Host\x20Screen</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22startSharingBtn\x22\x20class=\x22w-full\x20flex\x20items-center\x20justify-center\x20bg-emerald-600\x20hover:bg-emerald-700\x20text-white\x20font-bold\x20py-4\x20px-8\x20rounded-xl\x20text-lg\x20transition-all\x20transform\x20hover:scale-[1.02]\x20active:scale-[0.98]\x20focus:outline-none\x20focus:ring\x20focus:ring-emerald-500/50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22\x20class=\x22mr-2\x22><rect\x20width=\x2220\x22\x20height=\x2212\x22\x20x=\x222\x22\x20y=\x225\x22\x20rx=\x222\x22/><path\x20d=\x22M12\x2017v5\x22/><path\x20d=\x22M8\x2021h8\x22/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Start\x20Sharing\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22hostIdContainer\x22\x20class=\x22hidden\x20w-full\x20max-w-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x20text-center\x22>Share\x20this\x20ID\x20with\x20a\x20viewer:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22hostIdInput\x22\x20readonly\x20class=\x22mt-2\x20w-full\x20px-4\x20py-3\x20bg-white/5\x20text-emerald-400\x20rounded-xl\x20text-center\x20font-mono\x20tracking-wide\x20border-2\x20border-transparent\x20focus:border-emerald-500/50\x20focus:bg-white/20\x20outline-none\x20transition-all\x20focus:ring\x20focus:ring-emerald-500/50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copyBtn\x22\x20class=\x22absolute\x20right-3\x20top-1/2\x20-translate-y-1/2\x20p-2\x20text-gray-400\x20hover:text-emerald-400\x20transition-colors\x20duration-200\x20focus:outline-none\x20focus:ring-2\x20focus:ring-emerald-500/50\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20class=\x22h-5\x20w-5\x22\x20fill=\x22none\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22><rect\x20x=\x229\x22\x20y=\x229\x22\x20width=\x2213\x22\x20height=\x2213\x22\x20rx=\x222\x22\x20ry=\x222\x22\x20/><path\x20d=\x22M5\x2015H4a2\x202\x200\x200\x201-2-2V4a2\x202\x200\x200\x201\x202-2h9a2\x202\x200\x200\x201\x202\x202v1\x22\x20/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22disconnectBtn\x22\x20class=\x22mt-4\x20w-full\x20bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20rounded-xl\x20transition-all\x20transform\x20hover:scale-[1.02]\x20active:scale-[0.98]\x20focus:outline-none\x20focus:ring\x20focus:ring-red-500/50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20End\x20Session\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22hostVideoContainer\x22\x20class=\x22relative\x20hidden\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<video\x20id=\x22localVideo\x22\x20autoplay\x20playsinline\x20muted\x20class=\x22rounded-xl\x20w-full\x20h-auto\x20shadow-xl\x20border-4\x20border-white/20\x22></video>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/50\x20text-white\x20text-sm\x20px-3\x20py-1\x20rounded-full\x20font-mono\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22timer\x22>00:00</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hostFullscreenBtn\x22\x20class=\x22absolute\x20bottom-4\x20right-4\x20p-2\x20bg-black/50\x20text-white\x20rounded-lg\x20opacity-80\x20hover:opacity-100\x20transition-opacity\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20xmlns=\x22http://www.w3.org/2000/svg\x22\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22\x20stroke-linecap=\x22round\x22\x20stroke-linejoin=\x22round\x22><path\x20d=\x22M8\x203v3a2\x202\x200\x200\x201-2\x202H3m18\x200h-3a2\x202\x200\x200\x201-2-2V3m0\x2018v-3a2\x202\x200\x200\x201\x202-2h3M3\x2016h3a2\x202\x200\x200\x201\x202\x202v3\x22/></svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2e5157=document[_0x389c5b(0x1cf)](_0x389c5b(0x1a6));_0x2e5157[_0x389c5b(0x1e5)](_0x389c5b(0x191),startSharing),setActiveTab(hostBtn);},showJoinUI=()=>{const _0x1fe8d6=_0x21a8c7;contentArea['innerHTML']=_0x1fe8d6(0x182);const _0x4d5cc0=document[_0x1fe8d6(0x1cf)]('joinButton');_0x4d5cc0[_0x1fe8d6(0x1e5)](_0x1fe8d6(0x191),joinSessionLogic),setActiveTab(joinBtn);},setActiveTab=_0x93c701=>{const _0x4e54f5=_0x21a8c7;[hostBtn,joinBtn][_0x4e54f5(0x19f)](_0x28f14f=>{const _0x397e51=_0x4e54f5;_0x28f14f===_0x93c701?(_0x28f14f[_0x397e51(0x1a9)]['add'](_0x397e51(0x1d0),_0x397e51(0x17c),'text-gray-800',_0x397e51(0x1e2),_0x397e51(0x194)),_0x28f14f[_0x397e51(0x1a9)][_0x397e51(0x18e)]('text-gray-500',_0x397e51(0x1d1))):(_0x28f14f[_0x397e51(0x1a9)][_0x397e51(0x18e)](_0x397e51(0x1d0),_0x397e51(0x17c),_0x397e51(0x18d),'dark:text-white',_0x397e51(0x194)),_0x28f14f[_0x397e51(0x1a9)][_0x397e51(0x1cb)](_0x397e51(0x19d),'dark:text-gray-400'));});};hostBtn[_0x21a8c7(0x1e5)](_0x21a8c7(0x191),showHostUI),joinBtn['addEventListener'](_0x21a8c7(0x191),showJoinUI),document[_0x21a8c7(0x1e5)]('DOMContentLoaded',()=>{showHostUI();});function toggleDropdown(_0x2fe3aa,_0x228077){const _0x29382a=_0x21a8c7,_0x491495=document[_0x29382a(0x1cf)](_0x2fe3aa),_0x38974=document['getElementById'](_0x228077);_0x491495['classList'][_0x29382a(0x1f7)]('open')?(_0x491495[_0x29382a(0x1a9)][_0x29382a(0x18e)]('open'),_0x38974[_0x29382a(0x1a9)][_0x29382a(0x18e)](_0x29382a(0x192))):(_0x491495[_0x29382a(0x1a9)][_0x29382a(0x1cb)](_0x29382a(0x1a8)),_0x38974[_0x29382a(0x1a9)][_0x29382a(0x1cb)](_0x29382a(0x192)));}window[_0x21a8c7(0x1b2)]=toggleDropdown;
